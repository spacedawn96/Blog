---
id: 2
title: 'typescript'
about: 'typescript'
excerpt: 'from typescript'
coverImage: '/assets/blog/preview/typescript.png'
date: '2021-04-23T13:35:07.322Z'
author:
  name: spacedawn96
  picture: '/assets/blog/authors/tim.jpeg'
ogImage:
  url: '/assets/blog/hello-world/typescript.png'
---

# 컴파일러

컴파일러는 소스코드를 파싱해 AST로 만들고 AST가 바이트코드로 변환한 것을 런타임이 확인합니다

타입스크립트는 컴파일러가 바이트코드 대신 자바스크립트로 변환합니다, 정리하면

 1. 타입스크립트 소스 -> 타입스크립트 AST
 1. 타입 검사기가 AST를 확인
 1. 타입스크립트 AST -> 자바스크립트 소스
 1. 자스 소스 -> 자스 AST
 1. AST -> 바이트코드
 1. 런타임이 바이트코드를 확인합니다

 1~3은 TSC가 실행하며 4~6은 브라우저, Node Js, 자스 엔진같은 런타임이 실행합니다.

 
# 클래스

## Super

<div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">class</span>&nbsp;Base&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;k&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;<span style="color:#D8FAAE">4</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">class</span>&nbsp;Derived&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;Base&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;constructor()&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4EAC53">//&nbsp;Prints&nbsp;a&nbsp;wrong&nbsp;value&nbsp;in&nbsp;ES5;&nbsp;throws&nbsp;exception&nbsp;in&nbsp;ES6</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#53A3F5">console</span>.log(<span style="color:#53A3F5">this</span>.k);</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#F0A228">'super'</span>&nbsp;must&nbsp;be&nbsp;called&nbsp;before&nbsp;accessing&nbsp;<span style="color:#F0A228">'this'</span>&nbsp;<span style="color:#ED7ADE">in</span>&nbsp;the&nbsp;constructor&nbsp;of&nbsp;a&nbsp;derived&nbsp;<span style="color:#ED7ADE">class</span>.</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ED7ADE">super</span>();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div><br>

 자식 클래스가 부모 클래스에 정의된 메서드를 오버라이드하면 자식 인스턴스 super를 이용해 부모 머서드를 호출 할 수 있다.

 super로 부모 클래스의 메서드에만 접근할 수 있고 프로퍼티에는 접근을 할 수 없다.


 <div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">class</span>&nbsp;Base&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;greet()&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#53A3F5">console</span>.log(<span style="color:#F0A228">"Hello,&nbsp;world!"</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">class</span>&nbsp;Derived&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;Base&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;greet(<span style="color:#53A3F5">name</span>?:&nbsp;string)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ED7ADE">if</span>&nbsp;(<span style="color:#53A3F5">name</span>&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span><span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span><span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;<span style="color:#6DD2F7">undefined</span>)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ED7ADE">super</span>.greet();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color:#ED7ADE">else</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#53A3F5">console</span>.log(`Hello,&nbsp;${<span style="color:#53A3F5">name</span>.toUpperCase()}`);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">const</span>&nbsp;d&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;<span style="color:#ED7ADE">new</span>&nbsp;Derived();</div><div style="padding:0 6px; white-space:pre; line-height:130%">d.greet();</div><div style="padding:0 6px; white-space:pre; line-height:130%">d.greet(<span style="color:#F0A228">"reader"</span>);</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div><br>

 서브클래스는 부모클래스 필드 또는 속성을 재정의 할 수 있습니다, super를 사용하여 부모클래스 메서드에 액세스 할 수 있습니다


 ## This

 this 변수가 클래스에 속한 메서드뿐 아니라 모든 함수에서 정의된다, this의 값은 함수를 어떻게 호출했는지에 따라 달라진다 

<div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">let</span>&nbsp;x&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a()&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ED7ADE">return</span>&nbsp;<span style="color:#53A3F5">this</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">x.a()&nbsp;<span style="color:#4EAC53">//&nbsp;a()&nbsp;의&nbsp;바디&nbsp;안에서&nbsp;this는&nbsp;객체&nbsp;x&nbsp;이다</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">let</span>&nbsp;a&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;x.a</div><div style="padding:0 6px; white-space:pre; line-height:130%">a()&nbsp;<span style="color:#4EAC53">//&nbsp;a()의&nbsp;바디&nbsp;안에서&nbsp;this는&nbsp;정의되지&nbsp;않은&nbsp;상태이다</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div><br> 

 호출이 일어나기전 어느 시점에서 a를 할당 하는지에 따라 결과가 달라진다.

 this를 반환타입으로 사용할 수 도 있다

<div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">let</span>&nbsp;set&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;<span style="color:#ED7ADE">new</span>&nbsp;Set</div><div style="padding:0 6px; white-space:pre; line-height:130%">set.add(<span style="color:#D8FAAE">1</span>).add(<span style="color:#D8FAAE">2</span>).add(<span style="color:#D8FAAE">3</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">set.has(<span style="color:#D8FAAE">2</span>)&nbsp;<span style="color:#4EAC53">//&nbsp;true</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">set.has(<span style="color:#D8FAAE">4</span>)&nbsp;<span style="color:#4EAC53">//&nbsp;false</span></div></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div><br>

Set을 구현해보자

<div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">class</span>&nbsp;Set{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;has(value:&nbsp;number):&nbsp;<span style="color:#ED7ADE">boolean</span>{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4EAC53">//...</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;add(value:&nbsp;number):&nbsp;Set{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4EAC53">//...</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div><br>

Set을 상속받는 서브클래스를 만들어보자.

<div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">class</span>&nbsp;MutavleSet&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;Set{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;has(value:number)&nbsp;:&nbsp;<span style="color:#ED7ADE">boolean</span>{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4EAC53">//...</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;add(value:number)&nbsp;:&nbsp;MutavleSet&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4EAC53">//...</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div><br>


이처럼 Set을 반환하는 서브클래스에서는 MutableSet을 반환하도록 오버라이드 한다.

서브클래스는 this를 반환하는 모든 메서드의 시그니처를 오버라이드 해야한다 이경우 반환 타입을 this로 지정하면 타입스크립트가 알아서 해결해 준다

<div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">class</span>&nbsp;MutavleSet&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;Set{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;has(value:number)&nbsp;:&nbsp;<span style="color:#ED7ADE">boolean</span>{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4EAC53">//...</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;add(value:number)&nbsp;:&nbsp;<span style="color:#53A3F5">this</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4EAC53">//...</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div><br>

인터페이스와 메소드 반환형


<div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">class</span>&nbsp;FileSystemObject&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;isFile():&nbsp;<span style="color:#53A3F5">this</span>&nbsp;is&nbsp;FileRep&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ED7ADE">return</span>&nbsp;<span style="color:#53A3F5">this</span>&nbsp;instanceof&nbsp;FileRep;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;isDirectory():&nbsp;<span style="color:#53A3F5">this</span>&nbsp;is&nbsp;Directory&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ED7ADE">return</span>&nbsp;<span style="color:#53A3F5">this</span>&nbsp;instanceof&nbsp;Directory;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;isNetworked():&nbsp;<span style="color:#53A3F5">this</span>&nbsp;is&nbsp;Networked&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">&amp;</span>&nbsp;<span style="color:#53A3F5">this</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ED7ADE">return</span>&nbsp;<span style="color:#53A3F5">this</span>.networked;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;constructor(<span style="color:#ED7ADE">public</span>&nbsp;path:&nbsp;string,&nbsp;<span style="color:#ED7ADE">private</span>&nbsp;networked:&nbsp;<span style="color:#ED7ADE">boolean</span>)&nbsp;{}</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">class</span>&nbsp;FileRep&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;FileSystemObject&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;constructor(path:&nbsp;string,&nbsp;<span style="color:#ED7ADE">public</span>&nbsp;<span style="color:#53A3F5">content</span>:&nbsp;string)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ED7ADE">super</span>(path,&nbsp;<span style="color:#D8FAAE">false</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">class</span>&nbsp;Directory&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;FileSystemObject&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;children:&nbsp;FileSystemObject[];</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">interface</span>&nbsp;Networked&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;host:&nbsp;string;</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">const</span>&nbsp;fso:&nbsp;FileSystemObject&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;<span style="color:#ED7ADE">new</span>&nbsp;FileRep(<span style="color:#F0A228">"foo/bar.txt"</span>,&nbsp;<span style="color:#F0A228">"foo"</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">if</span>&nbsp;(fso.isFile())&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;fso.<span style="color:#53A3F5">content</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">const</span>&nbsp;fso:&nbsp;FileRep</div><div style="padding:0 6px; white-space:pre; line-height:130%">}&nbsp;<span style="color:#ED7ADE">else</span>&nbsp;<span style="color:#ED7ADE">if</span>&nbsp;(fso.isDirectory())&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;fso.children;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">const</span>&nbsp;fso:&nbsp;Directory</div><div style="padding:0 6px; white-space:pre; line-height:130%">}&nbsp;<span style="color:#ED7ADE">else</span>&nbsp;<span style="color:#ED7ADE">if</span>&nbsp;(fso.isNetworked())&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;fso.host;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">const</span>&nbsp;fso:&nbsp;Networked&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">&amp;</span>&nbsp;FileSystemObject</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div><br>

this를 인터페이스나 클래스의 반환형으로 쓸때 타입을 좁힐 수 있습니다

## Interface

먼저 타입별칭과 인터페이스의 차이를 알아보자

<div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#4EAC53">//&nbsp;타입별칭</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">type&nbsp;Sushi&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;{&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;calories:&nbsp;number</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;salty:&nbsp;<span style="color:#ED7ADE">boolean</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;sasty:&nbsp;<span style="color:#ED7ADE">boolean</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#4EAC53">//&nbsp;인터페이스</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">interface</span>&nbsp;Cake&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;calories:&nbsp;number</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;sweet:&nbsp;<span style="color:#ED7ADE">boolean</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;sasty:&nbsp;<span style="color:#ED7ADE">boolean</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div><br>

여기서 공통으로 들어간 프로퍼티를 따로 빼서 다시 정의 할 수 있다

<div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">type&nbsp;Food&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;calories:&nbsp;number</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;sasty:&nbsp;<span style="color:#ED7ADE">boolean</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">interface</span>&nbsp;Food&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;calories:&nbsp;number</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;sasty:&nbsp;<span style="color:#ED7ADE">boolean</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#4EAC53">//&nbsp;Food를&nbsp;이용하여&nbsp;다시&nbsp;정의해&nbsp;보자</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">type&nbsp;Sushi&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;Food&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">&amp;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;salty:&nbsp;<span style="color:#ED7ADE">boolean</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">type&nbsp;Cake&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;Food&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">&amp;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;sweet:&nbsp;<span style="color:#ED7ADE">boolean</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">interface</span>&nbsp;Sushi&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;Food&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;salty:&nbsp;<span style="color:#ED7ADE">boolean</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">interface</span>&nbsp;Cake&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;Food&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;sweet:&nbsp;<span style="color:#ED7ADE">boolean</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div><br>

타입과 인터페이스의 차이는 뭘까?

1. 타입별칭의 오른편에는 타입표현식(& | )을 포함한 모든 타입 연산자가 사용 가능하다 반면 인스턴스 오른편에는 형태가 와야 한다 

  예를들어 

  type A = number

  type B = A | String

  이와 같은 타입별칭은 인터페이스로 다시 작성할 수 없다

1. 인터페이스를 상속할 때 타입스크립트는 상속받는 인터페이스의 타입에 상위 인터페이스를 할당할 수 있는지 확인한다

  <div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">interface</span>&nbsp;A&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;good(x:&nbsp;number):&nbsp;string</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;bad(x:number):string</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">interface</span>&nbsp;B&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;A&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;good(x:&nbsp;number&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">|</span>&nbsp;number):&nbsp;string</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;bad(x:&nbsp;string):string&nbsp;<span style="color:#4EAC53">//&nbsp;number&nbsp;타입은&nbsp;string&nbsp;타입에&nbsp;할당&nbsp;불가능</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div><br>

  반면 타입별칭의 인터섹션(&)을 사용하면 bad를 오버러드한 시그니처가 만들어진다 

1. 이름과 범위가 같은 인터페이스가 여러 개 있다면 이들이 자동으로 합쳐진다(선언합침)

<div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#4EAC53">//&nbsp;선업합침</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">interface</span>&nbsp;User&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#53A3F5">name</span>:&nbsp;string</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">interface</span>&nbsp;User&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;age:&nbsp;number</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#4EAC53">//&nbsp;User의&nbsp;name과&nbsp;age는&nbsp;하나의&nbsp;인터페이스로&nbsp;합쳐진다</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">interface</span>&nbsp;User{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#53A3F5">name</span>:&nbsp;string</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;age:&nbsp;number</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div> <br>

## Polymorphism limits

세 가지의 이진 트리를 구현해보자. 

<div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">type&nbsp;TreeNode&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;value:&nbsp;string</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">type&nbsp;LeafNode&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;TreeNode&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">&amp;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;isLeaf:<span style="color:#ED7ADE">true</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">type&nbsp;InnerNode&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;TreeNode&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">&amp;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;children&nbsp;:&nbsp;[TreeNdoe]&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">|</span>&nbsp;[Tree,&nbsp;TreeNode]</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div><br>

TreeNode는 value라는 한 개의 프로퍼티만 갖는 객체라고 정의했다.

LeafNode 타입은 TreNode가 갖는 모든 프로퍼티뿐 아니라 값이 항상 true인 isLeaf 프로퍼티를 추가로 포함한다.

InnerNode도 TreeNode의 모든 프로퍼티를 포함하며 두 개의 자식을 가리킬 수 있는 children 프로퍼티를 추가로 포함한다.

<div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">let</span>&nbsp;a&nbsp;:&nbsp;TreeNode&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;{value&nbsp;:&nbsp;<span style="color:#F0A228">'a'</span>}</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">let</span>&nbsp;b&nbsp;:&nbsp;LeafNode&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;{value&nbsp;:&nbsp;<span style="color:#F0A228">'b'</span>&nbsp;,&nbsp;isLeaf:&nbsp;<span style="color:#ED7ADE">true</span>}</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">let</span>&nbsp;c&nbsp;:&nbsp;InnerNode&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;{value:<span style="color:#F0A228">'c'</span>,&nbsp;children:&nbsp;[b]}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">let</span>&nbsp;a1&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;mapNode(a,&nbsp;_&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span><span style="color:#FF3399"></span><span style="color:#ED7ADE">&gt;</span>&nbsp;_.toUpperCase())&nbsp;<span style="color:#4EAC53">//TreeNode</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">let</span>&nbsp;b1&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;mapNode(b,&nbsp;_&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span><span style="color:#FF3399"></span><span style="color:#ED7ADE">&gt;</span>&nbsp;_.toUpperCase())&nbsp;<span style="color:#4EAC53">//LeafNode</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">let</span>&nbsp;c1&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;mapNode(c,&nbsp;_&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span><span style="color:#FF3399"></span><span style="color:#ED7ADE">&gt;</span>&nbsp;_.toUpperCase())&nbsp;<span style="color:#4EAC53">//InnerNode</span></div></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div><br>

TreeNode를 인수로 받아 value에 매핑 함수를 적용해 새로운 TreeNode를 반환하는 mapNode 함수이다.

mapNode 함수를 구현해보자

<div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">function</span>&nbsp;mapNode(T&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;TreeNode<span style="color:#FF3399"></span><span style="color:#ED7ADE">&gt;</span>(</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;T,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;f:&nbsp;(value:&nbsp;string)&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span><span style="color:#FF3399"></span><span style="color:#ED7ADE">&gt;</span>&nbsp;string</div><div style="padding:0 6px; white-space:pre; line-height:130%">):&nbsp;T&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ED7ADE">return</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...node,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value:&nbsp;f(node.value)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div><br>

T의 상한 경계는 TreeNode이다 즉 T는 TreeNode 이거나 아니면 TreeNode 서브타입이다.

왜 이런 방식으로 선언할까?

extends TreeNode를 생략하고 T 타입을 그냥 T 라 쓰면 mapNode가 컴파일 타임 에러를 던진다.

T 타입에 상한경계가 없으므로 node.value를 읽을 때 안전하지 않다.

T extends TreeNode를 사용함으로써 이후 입력 노드가 특정타입(TreeNode, LeadNode, InnerNode)를 보존할 수 있다.


## Keyof

keyof를 사용하면 객체의 모든 키를 문자열 리터럴 타입 유니온으로 얻을 수 있다.

<div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">type&nbsp;ResponseKeys&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;keyof&nbsp;APIResponse&nbsp;<span style="color:#4EAC53">//&nbsp;'user'</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">type&nbsp;UserKeys&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;keyof&nbsp;APIResponse[<span style="color:#F0A228">'user'</span>]&nbsp;&nbsp;<span style="color:#4EAC53">//&nbsp;'userId'&nbsp;|&nbsp;'friendList'</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">type&nbsp;FriendListKeys&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;keyof&nbsp;APIResponse[<span style="color:#F0A228">'user'</span>][<span style="color:#F0A228">'friendList'</span>]&nbsp;<span style="color:#4EAC53">//&nbsp;'count'&nbsp;|&nbsp;friends'</span></div></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div></br>

키인과 keyof 연산자를 혼합해 사용하면 주어진 키에 해당하는 값을 반환하는 게터를 안전하게 구현할 수 있다.

<div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">function</span>&nbsp;get<span style="color:#FF3399"></span><span style="color:#ED7ADE">&lt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#D8FAAE">0</span>&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;object</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;K&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;keyof&nbsp;<span style="color:#D8FAAE">0</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#FF3399"></span><span style="color:#ED7ADE">&gt;</span>(o:&nbsp;<span style="color:#D8FAAE">0</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;k:&nbsp;K</div><div style="padding:0 6px; white-space:pre; line-height:130%">):&nbsp;<span style="color:#D8FAAE">0</span>[K]&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;<span style="color:#ED7ADE">return</span>&nbsp;<span style="color:#D8FAAE">0</span>[k]</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div><br>

get은 객체 o와 키 k를 인수로 받는 함수다.

keyof 0은 문자열 리터럴 타입의 유니온으로 o의 모든 키를 표현한다.

0[K]는 0에서 k를 찾을때 얻는 타입이다

키를 세 개까지 받을 수 있도록 get을 오버라이드 해보자.

<div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">type&nbsp;Get&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">&lt;</span><span style="color:#D8FAAE">0</span>&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;object,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K1&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;keyof&nbsp;<span style="color:#D8FAAE">0</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">&gt;</span>(o:&nbsp;<span style="color:#D8FAAE">0</span>,&nbsp;k1:&nbsp;K1):&nbsp;<span style="color:#D8FAAE">0</span>[K1]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">&lt;</span><span style="color:#D8FAAE">0</span>&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;object,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K1&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;keyof&nbsp;<span style="color:#D8FAAE">0</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K2&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;keyof&nbsp;<span style="color:#D8FAAE">0</span>[K1]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">&gt;</span>(o:&nbsp;<span style="color:#D8FAAE">0</span>,&nbsp;k1:&nbsp;K1,&nbsp;K2:&nbsp;K2):&nbsp;<span style="color:#D8FAAE">0</span>[K1][K2]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">&lt;</span><span style="color:#D8FAAE">0</span>&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;object,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K1&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;keyof&nbsp;<span style="color:#D8FAAE">0</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K2&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;keyof&nbsp;<span style="color:#D8FAAE">0</span>[K1]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k3&nbsp;<span style="color:#ED7ADE">extends</span>&nbsp;keyof&nbsp;<span style="color:#D8FAAE">0</span>[K1][K2]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">&gt;</span>(o:&nbsp;<span style="color:#D8FAAE">0</span>,&nbsp;k1:&nbsp;K1,&nbsp;K2:&nbsp;K2,&nbsp;K3:K3):&nbsp;<span style="color:#D8FAAE">0</span>[K1][K2][K3]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">let</span>&nbsp;get:&nbsp;Get&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;(object&nbsp;:&nbsp;any,&nbsp;...keys:&nbsp;string[])&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span><span style="color:#FF3399"></span><span style="color:#ED7ADE">&gt;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ED7ADE">let</span>&nbsp;result&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;object</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;keys.forEach(k&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span><span style="color:#FF3399"></span><span style="color:#ED7ADE">&gt;</span>&nbsp;result&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;result[K])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ED7ADE">return</span>&nbsp;result</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">get(activeityLog&nbsp;,&nbsp;<span style="color:#F0A228">'events'</span>,&nbsp;<span style="color:#D8FAAE">0</span>&nbsp;,&nbsp;<span style="color:#F0A228">'type)&nbsp;//&nbsp;'</span>READ<span style="color:#F0A228">'&nbsp;|&nbsp;'</span>WRTIE<span style="color:#F0A228">'</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#F0A228">get(activeityLog&nbsp;,&nbsp;'</span>bad<span style="color:#F0A228">')&nbsp;//&nbsp;에러&nbsp;인수&nbsp;"bad:&nbsp;타입은&nbsp;매개변수,&nbsp;"lastEvent"&nbsp;|&nbsp;"events"&nbsp;타입에&nbsp;할당할&nbsp;수&nbsp;없음</span></div></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div><br>

한 개의 키를 갖을 때 0 객체의 서브타입이며 K1은 객체 키의 서브타입이고 0에 K1으로 키인 할때 얻는 타입이 반환 타입이다

두 개의 키를 갖을 때 제네릭 타입 K2를 추가로 선언하고 0에 K1으로 키인해서 얻는 중첩 객체에 존재 할 수 있는 키를 표현 한다

## Record Type

타입스크립트 내장 Record 타입을 이용하면 무언가를 매핑하는 용도로 객체를 활용할 수 있다.


<div class="colorscripter-code" style="color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#242424;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#F4F0F0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">interface</span>&nbsp;CatInfo&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;age:&nbsp;number;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;breed:&nbsp;string;</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">type&nbsp;CatName&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;<span style="color:#F0A228">"miffy"</span>&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">|</span>&nbsp;<span style="color:#F0A228">"boris"</span>&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">|</span>&nbsp;<span style="color:#F0A228">"mordred"</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">const</span>&nbsp;cats:&nbsp;Record<span style="color:#FF3399"></span><span style="color:#ED7ADE">&lt;</span>CatName,&nbsp;CatInfo<span style="color:#FF3399"></span><span style="color:#ED7ADE">&gt;</span>&nbsp;<span style="color:#FF3399"></span><span style="color:#ED7ADE">=</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;miffy:&nbsp;{&nbsp;age:&nbsp;<span style="color:#D8FAAE">10</span>,&nbsp;breed:&nbsp;<span style="color:#F0A228">"Persian"</span>&nbsp;},</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;boris:&nbsp;{&nbsp;age:&nbsp;<span style="color:#D8FAAE">5</span>,&nbsp;breed:&nbsp;<span style="color:#F0A228">"Maine&nbsp;Coon"</span>&nbsp;},</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;mordred:&nbsp;{&nbsp;age:&nbsp;<span style="color:#D8FAAE">16</span>,&nbsp;breed:&nbsp;<span style="color:#F0A228">"British&nbsp;Shorthair"</span>&nbsp;},</div><div style="padding:0 6px; white-space:pre; line-height:130%">};</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">cats.boris;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ED7ADE">const</span>&nbsp;cats:&nbsp;Record<span style="color:#FF3399"></span><span style="color:#ED7ADE">&lt;</span>CatName,&nbsp;CatInfo<span style="color:#FF3399"></span><span style="color:#ED7ADE">&gt;</span></div></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div><br>

# Using Prism with Next.js

[**Prism**](https://prismjs.com/) is a popular syntax highlighter commonly used with Markdown.
This example shows how to use Prism with [**Next.js**](https://nextjs.org/). Use the theme dropdown
in the header to switch syntax highlighting themes.

Next.js uses `getStaticPaths`/`getStaticProps` to generate [static pages](https://nextjs.org/docs/basic-features/data-fetching). These functions are _not_ bundled client-side, so you can **write server-side code directly**. For example, you can read Markdown files from the filesystem (`fs`) – including parsing front matter with [gray-matter](https://github.com/jonschlinkert/gray-matter). For example, let's assume you have a Markdown file located at `docs/my-post.js`.

We can retrieve that file's contents using `getDocBySlug('my-post')`.

```js
// lib/docs.js
import fs from 'fs';
import { join } from 'path';
import matter from 'gray-matter';
export function getDocBySlug(slug) {
  const realSlug = slug.replace(/\.md$/, '');
  const docsDirectory = join(process.cwd(), 'docs');
  const fullPath = join(docsDirectory, `${realSlug}.md`);
  const fileContents = fs.readFileSync(fullPath, 'utf8');
  const { data, content } = matter(fileContents);
  return { slug: realSlug, meta: data, content };
}
```

Then, we can **transform** the raw Markdown into HTML using [remark](https://github.com/remarkjs/remark) plugins.

```js
type Get = {
    <0 extends object,
     K1 extends keyof 0
    >(o: 0, k1: K1): 0[K1]
    <0 extends object,
     K1 extends keyof 0
     K2 extends keyof 0[K1]
    >(o: 0, k1: K1, K2: K2): 0[K1][K2]
    <0 extends object,
     K1 extends keyof 0
     K2 extends keyof 0[K1]
     k3 extends keyof 0[K1][K2]
    >(o: 0, k1: K1, K2: K2, K3:K3): 0[K1][K2][K3]
 
let get: Get = (object : any, ...keys: string[]) => {
    let result = object
    keys.forEach(k => result = result[K])
    return result
}
 
get(activeityLog , 'events', 0 , 'type) // 'READ' | 'WRTIE'
get(activeityLog , 'bad') // 에러 인수 "bad: 타입은 매개변수, "lastEvent" | "events" 타입에 할당할 수 없음
}
```

Passing the `content` returned by `getDocBySlug('my-post')` into `markdownToHtml(content)`
would convert a Markdown file like this:

````markdown
---
title: 'My First Post'
description: 'My very first blog post'
---

# My First Post

I **love** using [Next.js](https://nextjs.org/)

```js
const doc = getDocBySlug(params.slug);
```
````

into this HTML, which includes the proper elements and class names.

```html
<h1>My First Post</h1>
<p>I <strong>love</strong> using <a href="https://nextjs.org/">Next.js</a></p>
<div class="remark-highlight">
  <pre class="language-js">
    <code>
      <span class="token keyword">const</span> doc <span class="token operator">=</span> <span class="token function">getDocBySlug</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span><span class="token property-access">slug</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </code>
  </pre>
</div>
```